{"ast":null,"code":"var _jsxFileName = \"D:\\\\pokemon-mern-app\\\\client\\\\src\\\\components\\\\PokemonSearchBar.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PokemonSearchBar = ({\n  onSearch\n}) => {\n  _s();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n  const [showSuggestions, setShowSuggestions] = useState(false);\n  const [activeSuggestion, setActiveSuggestion] = useState(-1);\n  const searchRef = useRef(null);\n  const suggestionsRef = useRef(null);\n  useEffect(() => {\n    const fetchSuggestions = async () => {\n      if (searchTerm.length >= 2) {\n        try {\n          const response = await fetch(`/api/pokemon/suggestions/${encodeURIComponent(searchTerm)}`);\n          if (response.ok) {\n            const data = await response.json();\n            setSuggestions(data);\n            setShowSuggestions(true);\n          }\n        } catch (error) {\n          console.error('Error fetching suggestions:', error);\n          setSuggestions([]);\n        }\n      } else {\n        setSuggestions([]);\n        setShowSuggestions(false);\n      }\n    };\n    const timeoutId = setTimeout(fetchSuggestions, 300); // Debounce\n    return () => clearTimeout(timeoutId);\n  }, [searchTerm]);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (searchRef.current && !searchRef.current.contains(event.target)) {\n        setShowSuggestions(false);\n        setActiveSuggestion(-1);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n  const handleInputChange = event => {\n    setSearchTerm(event.target.value);\n    setActiveSuggestion(-1);\n  };\n  const handleSearch = event => {\n    event.preventDefault();\n    const term = searchTerm.trim();\n    if (term) {\n      onSearch(term);\n      setSearchTerm('');\n      setShowSuggestions(false);\n      setSuggestions([]);\n      setActiveSuggestion(-1);\n    }\n  };\n  const handleSuggestionClick = suggestion => {\n    setSearchTerm(suggestion);\n    setShowSuggestions(false);\n    setSuggestions([]);\n    setActiveSuggestion(-1);\n    onSearch(suggestion);\n    setSearchTerm('');\n  };\n  const handleKeyDown = event => {\n    if (!showSuggestions || suggestions.length === 0) return;\n    switch (event.key) {\n      case 'ArrowDown':\n        event.preventDefault();\n        setActiveSuggestion(prev => prev < suggestions.length - 1 ? prev + 1 : prev);\n        break;\n      case 'ArrowUp':\n        event.preventDefault();\n        setActiveSuggestion(prev => prev > 0 ? prev - 1 : -1);\n        break;\n      case 'Enter':\n        event.preventDefault();\n        if (activeSuggestion >= 0) {\n          handleSuggestionClick(suggestions[activeSuggestion]);\n        } else {\n          handleSearch(event);\n        }\n        break;\n      case 'Escape':\n        setShowSuggestions(false);\n        setActiveSuggestion(-1);\n        break;\n      default:\n        break;\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"search-container\",\n    ref: searchRef,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSearch,\n      className: \"pokemon-search-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search for a Pok\\xE9mon...\",\n        value: searchTerm,\n        onChange: handleInputChange,\n        onKeyDown: handleKeyDown,\n        onFocus: () => suggestions.length > 0 && setShowSuggestions(true),\n        className: \"search-input\",\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"search-button\",\n        children: \"\\uD83D\\uDD0D Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this), showSuggestions && suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"suggestions-dropdown\",\n      ref: suggestionsRef,\n      children: suggestions.map((suggestion, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `suggestion-item ${index === activeSuggestion ? 'active' : ''}`,\n        onClick: () => handleSuggestionClick(suggestion),\n        onMouseEnter: () => setActiveSuggestion(index),\n        children: suggestion.charAt(0).toUpperCase() + suggestion.slice(1)\n      }, suggestion, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n};\n_s(PokemonSearchBar, \"2xuE8PQD4ZD1cVNuYXxClqC7FXc=\");\n_c = PokemonSearchBar;\nexport default PokemonSearchBar;\nvar _c;\n$RefreshReg$(_c, \"PokemonSearchBar\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","PokemonSearchBar","onSearch","_s","searchTerm","setSearchTerm","suggestions","setSuggestions","showSuggestions","setShowSuggestions","activeSuggestion","setActiveSuggestion","searchRef","suggestionsRef","fetchSuggestions","length","response","fetch","encodeURIComponent","ok","data","json","error","console","timeoutId","setTimeout","clearTimeout","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleInputChange","value","handleSearch","preventDefault","term","trim","handleSuggestionClick","suggestion","handleKeyDown","key","prev","className","ref","children","onSubmit","type","placeholder","onChange","onKeyDown","onFocus","autoComplete","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","onMouseEnter","charAt","toUpperCase","slice","_c","$RefreshReg$"],"sources":["D:/pokemon-mern-app/client/src/components/PokemonSearchBar.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\nconst PokemonSearchBar = ({ onSearch }) => {\n    const [searchTerm, setSearchTerm] = useState('');\n    const [suggestions, setSuggestions] = useState([]);\n    const [showSuggestions, setShowSuggestions] = useState(false);\n    const [activeSuggestion, setActiveSuggestion] = useState(-1);\n    const searchRef = useRef(null);\n    const suggestionsRef = useRef(null);\n\n    useEffect(() => {\n        const fetchSuggestions = async () => {\n            if (searchTerm.length >= 2) {\n                try {\n                    const response = await fetch(`/api/pokemon/suggestions/${encodeURIComponent(searchTerm)}`);\n                    if (response.ok) {\n                        const data = await response.json();\n                        setSuggestions(data);\n                        setShowSuggestions(true);\n                    }\n                } catch (error) {\n                    console.error('Error fetching suggestions:', error);\n                    setSuggestions([]);\n                }\n            } else {\n                setSuggestions([]);\n                setShowSuggestions(false);\n            }\n        };\n\n        const timeoutId = setTimeout(fetchSuggestions, 300); // Debounce\n        return () => clearTimeout(timeoutId);\n    }, [searchTerm]);\n\n    useEffect(() => {\n        const handleClickOutside = (event) => {\n            if (searchRef.current && !searchRef.current.contains(event.target)) {\n                setShowSuggestions(false);\n                setActiveSuggestion(-1);\n            }\n        };\n\n        document.addEventListener('mousedown', handleClickOutside);\n        return () => document.removeEventListener('mousedown', handleClickOutside);\n    }, []);\n\n    const handleInputChange = (event) => {\n        setSearchTerm(event.target.value);\n        setActiveSuggestion(-1);\n    };\n\n    const handleSearch = (event) => {\n        event.preventDefault();\n        const term = searchTerm.trim();\n        if (term) {\n            onSearch(term);\n            setSearchTerm('');\n            setShowSuggestions(false);\n            setSuggestions([]);\n            setActiveSuggestion(-1);\n        }\n    };\n\n    const handleSuggestionClick = (suggestion) => {\n        setSearchTerm(suggestion);\n        setShowSuggestions(false);\n        setSuggestions([]);\n        setActiveSuggestion(-1);\n        onSearch(suggestion);\n        setSearchTerm('');\n    };\n\n    const handleKeyDown = (event) => {\n        if (!showSuggestions || suggestions.length === 0) return;\n\n        switch (event.key) {\n            case 'ArrowDown':\n                event.preventDefault();\n                setActiveSuggestion(prev =>\n                    prev < suggestions.length - 1 ? prev + 1 : prev\n                );\n                break;\n            case 'ArrowUp':\n                event.preventDefault();\n                setActiveSuggestion(prev => prev > 0 ? prev - 1 : -1);\n                break;\n            case 'Enter':\n                event.preventDefault();\n                if (activeSuggestion >= 0) {\n                    handleSuggestionClick(suggestions[activeSuggestion]);\n                } else {\n                    handleSearch(event);\n                }\n                break;\n            case 'Escape':\n                setShowSuggestions(false);\n                setActiveSuggestion(-1);\n                break;\n            default:\n                break;\n        }\n    };\n\n    return (\n        <div className=\"search-container\" ref={searchRef}>\n            <form onSubmit={handleSearch} className=\"pokemon-search-bar\">\n                <input\n                    type=\"text\"\n                    placeholder=\"Search for a Pok√©mon...\"\n                    value={searchTerm}\n                    onChange={handleInputChange}\n                    onKeyDown={handleKeyDown}\n                    onFocus={() => suggestions.length > 0 && setShowSuggestions(true)}\n                    className=\"search-input\"\n                    autoComplete=\"off\"\n                />\n                <button type=\"submit\" className=\"search-button\">\n                    üîç Search\n                </button>\n            </form>\n\n            {showSuggestions && suggestions.length > 0 && (\n                <div className=\"suggestions-dropdown\" ref={suggestionsRef}>\n                    {suggestions.map((suggestion, index) => (\n                        <div\n                            key={suggestion}\n                            className={`suggestion-item ${index === activeSuggestion ? 'active' : ''}`}\n                            onClick={() => handleSuggestionClick(suggestion)}\n                            onMouseEnter={() => setActiveSuggestion(index)}\n                        >\n                            {suggestion.charAt(0).toUpperCase() + suggestion.slice(1)}\n                        </div>\n                    ))}\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default PokemonSearchBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}